# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ Python, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å
# —Å—É–º–º—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –∏–∑ 1000000 —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.
# üêÄ –ü—Ä–∏–º–µ—Ä –º–∞—Å—Å–∏–≤–∞: arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...]
# üêÄ –ú–∞—Å—Å–∏–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏
# –æ—Ç 1 –¥–æ 100.
# üêÄ –ü—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å,
# –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ—Å—Ç—å –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å.
# üêÄ –í –∫–∞–∂–¥–æ–º —Ä–µ—à–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
# –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.
import threading
import time
import numpy as np


N = 1000000
arr = np.random.randint(0,10,N)

sum=0
def sequential(arr,calc,thead):
    global sum
    print(f"–ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ ‚Ññ {thead}")
    start = thead * calc
    stop = (thead + 1) * calc
    for i in range(start,stop):
        sum += arr[i]
    print(f"{stop} —Ü–∏–∫–ª–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∑–∞–∫–æ–Ω—á–µ–Ω—ã, sum = {sum} –ü–æ—Ç–æ–∫ ‚Ññ {thead}")
    return sum

def threaded(theads, calc):
    # theads - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤
    # calc - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –ø–æ—Ç–æ–∫

    threads = []

    # –¥–µ–ª–∏–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ `theads` –ø–æ—Ç–æ–∫–æ–≤
    for thead in range(theads):
        t = threading.Thread(target=sequential, args=(arr, calc, thead))
        threads.append(t)
        t.start()
    # –ü–æ–¥–æ–∂–¥–µ–º, –ø–æ–∫–∞ –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –∑–∞–≤–µ—Ä—à–∞—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.
    for thread in threads:
        thread.join()

if __name__=='__main__':
    start_time = time.time()
    # —Ä–∞–∑–¥–µ–ª–∏–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ 4 –ø–æ—Ç–æ–∫–∞
    # –≤ –∫–∞–∂–¥–æ–º –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ 250000 –æ–ø–µ—Ä–∞—Ü–∏–π
    threaded(4,250000)

    # print(sequential(arr, 5, 2000))
    print(f'–û–±—â–µ–µ –≤—Ä–µ–º—è {time.time() - start_time} —Å–µ–∫—É–Ω–¥')


